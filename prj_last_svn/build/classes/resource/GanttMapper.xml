<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="finalproject.data.dao.GanttDao">
<resultMap type="assig" id="assigMap">
         <result property="id" column="ASSIGSID"/>
         <result property="resourceId" column="memno"/>
         <result property="roleId" column="membern"/>
         <result property="code" column="prjno"/>
</resultMap>

<resultMap type="resource" id="resourceMap">
         <result property="id" column="MEMNO"/>
</resultMap>

<resultMap type="role" id="roleMap">
         <result property="id" column="MEMBERN"/>
         <result property="name" column="AUTH"/>
</resultMap>

<resultMap type="paramtasks" id="taskMap">
         <result property="id" column="TASKID"/>
         <result property="code" column="PRJNO"/>
         <result property="start" column="STARTDATE"/>
         <result property="end" column="ENDDATE"/>
</resultMap>

  	  <select id="assigList" parameterType="assig" resultMap="assigMap">
         SELECT * FROM ASSIGS WHERE PRJNO = 'pro10100'
      </select>
      
      <select id="taskList" parameterType="paramtasks" resultMap="taskMap">
	       SELECT TASKID, NAME, PROGRESS, DESCRIPTION, PRJNO, STATUS,
		   DEPENDS, STARTDATE, DURATION, ENDDATE, STARTISMILESTONE,
		   ENDISMILESTONE FROM TASKS WHERE PRJNO = 'pro10100'
		   ORDER BY PRJNO
      </select>
      
      <select id="resourceList" parameterType="resource" resultMap="resourceMap">
         SELECT MEMNO, NAME FROM MEMBERSHIP WHERE PRJNO ='pro10100'
      </select>
      
      <select id="roleList" parameterType="role" resultMap="roleMap">
         SELECT MEMBERN, AUTH FROM MEMBERS WHERE PRJNO ='pro10100'
      </select>

</mapper>

 
    
